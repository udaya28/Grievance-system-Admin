{"version":3,"sources":["components/home/Home.component.jsx","context/context.jsx","components/login/login.component.jsx","App.js","index.js"],"names":["Home","setLogin","React","createContext","setLoader","studentId","useStyles","makeStyles","theme","root","height","alignItems","display","justifyContent","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","flexDirection","width","justify","avatar","secondary","main","form","marginTop","submit","SignIn","useState","RollNumber","setRollNumber","Password","setPassword","ValidationState","setValidationState","IsValid","setIsValid","classes","setIsLoggedIn","useContext","setShowLoader","student","handleSignIn","a","console","log","Axios","post","data","rollNumber","password","res","status","setID","id","cookies","set","token","expires","response","setTimeout","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","Avatar","Typography","variant","FormControl","validate","TextField","required","fullWidth","label","name","autoComplete","onInput","e","target","value","error","helperText","autoFocus","color","align","Button","onClick","App","IsLoggedIn","showLoader","studentID","setStudentID","useEffect","cookie","get","headers","createMuiTheme","primary","ThemeProvider","Provider","size","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0225467a.chunk.js","sourcesContent":["import { React } from 'react';\n\nconst Home = () => {\n  return (\n    <div>\n      <h1>hello home</h1>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nexport const SetThemes = React.createContext({});\nexport const setLogin = React.createContext({});\nexport const setLoader = React.createContext({});\nexport const studentId = React.createContext({});\n","import React, { useState, useContext } from 'react';\nimport Axios from 'axios';\nimport cookies from 'js-cookie';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport { setLogin, setLoader, studentId } from '../../context/context';\nimport './login.styles.css';\n// import ImageHeader from '../imageHeader/ImageHeader';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  image: {\n    backgroundImage:\n      'url(\"https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1050&q=80\")',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light'\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(5, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: 'auto',\n    width: '100%',\n    justify: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst SignIn = () => {\n  const [RollNumber, setRollNumber] = useState('');\n  const [Password, setPassword] = useState('');\n  const [ValidationState, setValidationState] = useState(false);\n  const [IsValid, setIsValid] = useState(true);\n  const classes = useStyles();\n  const setIsLoggedIn = useContext(setLogin);\n  const setShowLoader = useContext(setLoader);\n  const student = useContext(studentId);\n\n  const handleSignIn = async () => {\n    console.log(RollNumber, Password);\n    setValidationState(true);\n    if (Password !== '' && RollNumber !== '') {\n      try {\n        setShowLoader(true);\n        const res = await Axios.post(\n          'https://grievance-app-backend.herokuapp.com/student/login',\n          {\n            data: { rollNumber: RollNumber, password: Password },\n          }\n        );\n        setShowLoader(false);\n        // console.log(res);\n        if (res.status === 200) {\n          student.setID({ ...student, id: res.data.id });\n          // console.log(res.data);\n          let date = 1 / 48; //30 min\n          cookies.set('token', res.data.token, {\n            expires: date,\n          });\n          setIsLoggedIn(true);\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.response) {\n          console.log(err.response);\n          if (err.response.status === 401) {\n            setIsValid(false);\n            setTimeout(() => setIsValid(true), 5000);\n            setShowLoader(false);\n          }\n        }\n      }\n    }\n  };\n\n  const handleRollNumber = (e) => {\n    Password === '' && RollNumber === '' && setValidationState(false);\n    setRollNumber(e.target.value);\n  };\n  const handlePassword = (e) => {\n    Password === '' && RollNumber === '' && setValidationState(false);\n    setPassword(e.target.value);\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={12} sm={8} md={5} className=\"login-box\" component={Paper}>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h6\">\n            Sign in\n          </Typography>\n          <FormControl className={classes.form} validate=\"true\">\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Roll Number\"\n              name=\"email\"\n              autoComplete=\"email\"\n              onInput={handleRollNumber}\n              value={RollNumber}\n              error={ValidationState && !RollNumber}\n              helperText={\n                ValidationState &&\n                !RollNumber &&\n                'Roll number field is required'\n              }\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onInput={handlePassword}\n              value={Password}\n              error={ValidationState && !Password}\n              helperText={\n                ValidationState && !Password && 'Password field is required'\n              }\n              autoComplete=\"current-password\"\n            />\n            {!IsValid && (\n              <Typography color=\"error\" variant=\"caption\" align=\"left\">\n                RollNumber or Password is Invalid\n              </Typography>\n            )}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleSignIn}\n            >\n              Sign In\n            </Button>\n          </FormControl>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default SignIn;\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Home from './components/home/Home.component';\nimport SignIn from './components/login/login.component';\nimport cookie from 'js-cookie';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport { setLogin, setLoader, studentId } from './context/context';\nimport Axios from 'axios';\nimport { BoxLoading } from 'react-loadingg';\n// Axios.defaults.withCredentials = true;\nfunction App() {\n  const [IsLoggedIn, setIsLoggedIn] = useState();\n  const [showLoader, setShowLoader] = useState(false);\n  const [studentID, setStudentID] = useState({});\n\n  useEffect(() => {\n    (async () => {\n      // console.log(cookie.get('token'));\n      if (cookie.get('token')) {\n        setShowLoader(true);\n        const res = await Axios.get(\n          'https://grievance-app-backend.herokuapp.com/auth',\n          {\n            headers: {\n              token: cookie.get('token'),\n            },\n          }\n        );\n        setShowLoader(false);\n        if (res.status === 200) {\n          setStudentID({ ...student, id: res.data.id });\n          setIsLoggedIn(true);\n        } else {\n          setIsLoggedIn(false);\n        }\n      } else {\n        //logout\n        setIsLoggedIn(false);\n      }\n    })();\n  }, []);\n\n  const theme = createMuiTheme({\n    palette: {\n      type: 'light',\n\n      primary: {\n        main: '#3a42bb',\n      },\n    },\n  });\n  let student = { id: studentID.id, setID: setStudentID };\n  // console.log(student)\n  // console.log(studentID)\n\n  return (\n    <ThemeProvider theme={theme}>\n      <setLogin.Provider value={setIsLoggedIn}>\n        <setLoader.Provider value={setShowLoader}>\n          <studentId.Provider value={student}>\n            <div className=\"App\">\n              {IsLoggedIn ? <Home /> : <SignIn />}\n              {showLoader && <BoxLoading color=\"#3a42bb\" size=\"large\" />}\n            </div>\n          </studentId.Provider>\n        </setLoader.Provider>\n      </setLogin.Provider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}