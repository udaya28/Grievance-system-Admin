(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},135:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),r=a(12),s=a.n(r),o=(a(110),a(38)),l=a.n(o),j=a(41),d=a(48),u=a(21),b=(a(112),a(222)),m=a(220),O=a(221),p=a(223),x=a(83),h=a.n(x),f=a(84),v=a.n(f),g=a(219),y=(a(113),a(211)),C=a(218),k=a(216),w=a(217),S=a(215),N=function(e){var t=e.SetOpen,a=e.handleClose,c=e.title,i=e.content,r=e.handleConfirm,s=e.confirmButtonColorSecondary;return Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(S.a,{id:"alert-dialog-title",children:c}),""!==i&&Object(n.jsx)(k.a,{children:Object(n.jsx)(w.a,{id:"alert-dialog-description",children:i})}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(g.a,{onClick:a,variant:"text",color:"primary",style:{color:"#333333"},children:"Cancel"}),Object(n.jsx)(g.a,{onClick:r,variant:"contained",color:s?"secondary":"primary",autoFocus:!0,children:"Confirm"})]})]})})},I=i.a.createContext({}),q=i.a.createContext({}),P=i.a.createContext({}),B=a(31),D=a.n(B),T=a(229),E=function(){var e=Object(c.useContext)(I),t=Object(c.useState)(!1),a=Object(u.a)(t,2),i=a[0],r=a[1],s=function(){r(!0)},o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],d=l[1];return Object(n.jsxs)(m.a,{position:"fixed",color:"primary",children:[Object(n.jsx)(O.a,{children:Object(n.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(n.jsx)(b.a,{item:!0,children:Object(n.jsx)(p.a,{onClick:function(){return d(!0)},children:Object(n.jsx)(h.a,{className:"white"})})}),Object(n.jsx)(b.a,{item:!0,children:Object(n.jsx)("h3",{className:"mon heading",children:"VCET"})}),Object(n.jsx)(b.a,{item:!0,children:Object(n.jsx)(b.a,{container:!0,direction:"row",alignItems:"center",children:Object(n.jsx)(g.a,{endIcon:Object(n.jsx)(v.a,{className:"white"}),onClick:function(){s()},children:Object(n.jsx)("h5",{className:"mon white",children:"Logout"})})})})]})}),Object(n.jsx)(N,{SetOpen:i,handleClose:function(){r(!1)},title:"Confirm",content:"Are you sure you want to logout?",handleConfirm:function(){D.a.remove("token"),e(!1)},confirmButtonColorSecondary:!0}),Object(n.jsx)(T.a,{open:j,onClose:function(){return d(!1)},children:Object(n.jsxs)("p",{children:["Lorem ipsum dolor sit amet consectetur, ",Object(n.jsx)("br",{}),"adipisicing elit. Commodi, porro totam ",Object(n.jsx)("br",{}),"quasi soluta veniam ut velit animi architecto",Object(n.jsx)("br",{}),"aliquam iusto aperiam eos? Exercitationem sit ",Object(n.jsx)("br",{}),"magni officiis? Dignissimos ut consequuntur voluptas!",Object(n.jsx)("br",{})]})})]})},L=a(96),U=function(){return Object(n.jsx)(m.a,{position:"relative",style:{top:"auto",bottom:0},color:"primary",children:Object(n.jsxs)(b.a,{container:!0,justify:"space-between",style:{padding:"10px 5px"},children:[Object(n.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(n.jsx)(L.a,{variant:"caption",children:"Copyright \xa9 2020"})}),Object(n.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(n.jsx)(L.a,{variant:"caption",children:"Developed By Udaya with \u2764\ufe0f"})})]})})},W=function(){return Object(n.jsxs)(b.a,{container:!0,direction:"column",children:[Object(n.jsx)(E,{}),Object(n.jsx)("div",{style:{height:"100vh"},children:"dsfhkj"}),Object(n.jsx)(U,{})]})},A=a(54),F=a.n(A),J=a(230),z=a(225),M=a(228),R=a(92),V=a(85),G=a.n(V),H=a(224),K=a(226),Q=(a(135),Object(H.a)((function(e){return{root:{height:"100vh",alignItems:"center",display:"flex",justifyContent:"center"},paper:{margin:e.spacing(5,4),display:"flex",flexDirection:"column",alignItems:"center",height:"auto",width:"100%",justify:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),X=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),o=s[0],m=s[1],O=Object(c.useState)(!1),p=Object(u.a)(O,2),x=p[0],h=p[1],f=Object(c.useState)(!0),v=Object(u.a)(f,2),y=v[0],C=v[1],k=Q(),w=Object(c.useContext)(I),S=Object(c.useContext)(q),N=Object(c.useContext)(P),B=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),""===o||""===a){e.next=15;break}return e.prev=2,S(!0),e.next=6,F.a.post("https://grievance-app-backend.herokuapp.com/admin/login",{data:{userName:a,password:o}});case 6:t=e.sent,S(!1),200===t.status&&(N.setID(Object(j.a)(Object(j.a)({},N),{},{id:t.data.id})),1/48,D.a.set("admin-token",t.data.token,{expires:.020833333333333332}),w(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.t0.response&&(console.log(e.t0.response),401===e.t0.response.status&&(C(!1),setTimeout((function(){return C(!0)}),5e3),S(!1)));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(b.a,{container:!0,component:"main",className:k.root,children:[Object(n.jsx)(z.a,{}),Object(n.jsx)(b.a,{item:!0,xs:12,sm:8,md:5,className:"login-box",component:R.a,children:Object(n.jsxs)("div",{className:k.paper,children:[Object(n.jsx)(J.a,{className:k.avatar,children:Object(n.jsx)(G.a,{})}),Object(n.jsx)(L.a,{component:"h1",variant:"h6",children:"Sign in"}),Object(n.jsxs)(K.a,{className:k.form,validate:"true",children:[Object(n.jsx)(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Roll Number",name:"email",autoComplete:"email",onInput:function(e){""===o&&""===a&&h(!1),i(e.target.value)},value:a,error:x&&!a,helperText:x&&!a&&"User name field is required",autoFocus:!0}),Object(n.jsx)(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onInput:function(e){""===o&&""===a&&h(!1),m(e.target.value)},value:o,error:x&&!o,helperText:x&&!o&&"Password field is required",autoComplete:"current-password"}),!y&&Object(n.jsx)(L.a,{color:"error",variant:"caption",align:"left",children:"UserName or Password is Invalid"}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:k.submit,onClick:B,children:"Sign In"})]})]})})]})},Y=a(89),Z=a(227),$=a(86);var _=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],b=s[1],m=Object(c.useState)({}),O=Object(u.a)(m,2),p=O[0],x=O[1];Object(c.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D.a.get("admin-token")){e.next=9;break}return b(!0),e.next=4,F.a.get("https://grievance-app-backend.herokuapp.com/auth",{headers:{token:D.a.get("admin-token")}});case 4:t=e.sent,b(!1),200===t.status?(x(Object(j.a)(Object(j.a)({},f),{},{id:t.data.id})),i(!0)):i(!1),e.next=10;break;case 9:i(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]);var h=Object(Y.a)({palette:{type:"light",primary:{main:"#3a42bb"}}}),f={id:p.id,setID:x};return Object(n.jsx)(Z.a,{theme:h,children:Object(n.jsx)(I.Provider,{value:i,children:Object(n.jsx)(q.Provider,{value:b,children:Object(n.jsx)(P.Provider,{value:f,children:Object(n.jsxs)("div",{className:"App",children:[a?Object(n.jsx)(W,{}):Object(n.jsx)(X,{}),o&&Object(n.jsx)($.BoxLoading,{color:"#3a42bb",size:"large"})]})})})})})};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.24bdb0a7.chunk.js.map