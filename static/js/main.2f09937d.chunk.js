(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{128:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},155:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),r=n.n(c),i=n(12),s=n.n(i),o=(n(128),n(43)),j=n.n(o),l=n(44),d=n(57),b=n(20),u=(n(130),n(249)),O=n(108),x=n(48),h=n(247),p=n(248),m=n(250),f=r.a.createContext({}),v=r.a.createContext({}),g=r.a.createContext({}),y=(n(131),n(101)),C=n.n(y),k=n(102),w=n.n(k),S=n(240),N=n(232),I=n(239),P=n(237),T=n(238),D=n(236),B=function(e){var t=e.SetOpen,n=e.handleClose,c=e.title,r=e.content,i=e.handleConfirm,s=e.confirmButtonColorSecondary;return Object(a.jsx)("div",{children:Object(a.jsxs)(N.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(D.a,{id:"alert-dialog-title",children:c}),""!==r&&Object(a.jsx)(P.a,{children:Object(a.jsx)(T.a,{id:"alert-dialog-description",children:r})}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)(S.a,{onClick:n,variant:"text",color:"primary",style:{color:"#333333"},children:"Cancel"}),Object(a.jsx)(S.a,{onClick:i,variant:"contained",color:s?"secondary":"primary",autoFocus:!0,children:"Confirm"})]})]})})},q=n(37),E=n.n(q),U=n(255),L=n(241),W=n(242),A=n(243),F=n(244),J=n(92),z=n.n(J),M=n(100),R=n.n(M),V=n(94),G=n.n(V),H=n(93),K=n.n(H),Q=n(95),X=n.n(Q),Y=n(96),Z=n.n(Y),$=n(245),_=n(97),ee=n.n(_),te=n(98),ne=n.n(te),ae=n(99),ce=n.n(ae),re=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(b.a)(i,2),o=s[0],j=s[1];return Object(a.jsx)("div",{style:{width:"250px"},children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)(W.a,{button:!0,selected:0===n,onClick:function(){return r(0)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(F.a,{primary:"Complaints"})]}),Object(a.jsxs)(W.a,{button:!0,selected:1===n,onClick:function(){return r(1)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(K.a,{})}),Object(a.jsx)(F.a,{primary:"Dashboard"})]}),Object(a.jsxs)(W.a,{button:!0,selected:2===n,onClick:function(){r(2),j(!o)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(F.a,{primary:"Student"}),o?Object(a.jsx)(X.a,{}):Object(a.jsx)(Z.a,{})]}),Object(a.jsx)($.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(L.a,{component:"div",disablePadding:!0,style:{paddingLeft:"32px"},children:[Object(a.jsxs)(W.a,{button:!0,selected:3===n,onClick:function(){return r(3)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(ee.a,{})}),Object(a.jsx)(F.a,{primary:"Create"})]}),Object(a.jsxs)(W.a,{button:!0,selected:4===n,onClick:function(){return r(4)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(ne.a,{})}),Object(a.jsx)(F.a,{primary:"Update"})]}),Object(a.jsxs)(W.a,{button:!0,selected:5===n,onClick:function(){return r(5)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(ce.a,{})}),Object(a.jsx)(F.a,{primary:"Delete"})]})]})}),Object(a.jsxs)(W.a,{button:!0,selected:6===n,onClick:function(){return r(6)},children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(F.a,{primary:"Profile"})]})]})})},ie=n(246),se=function(){var e=Object(c.useContext)(f),t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],s=function(){i(!0)},o=Object(c.useState)(!1),j=Object(b.a)(o,2),l=j[0],d=j[1],O=Object(ie.a)((function(e){var t;return{drawerPaper:(t={marginTop:"56px"},Object(x.a)(t,e.breakpoints.up("md"),{marginTop:"64px"}),Object(x.a)(t,"height","100%"),t)}}))();return Object(a.jsxs)(h.a,{position:"fixed",color:"primary",children:[Object(a.jsx)(p.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(m.a,{onClick:function(){return d(!0)},children:Object(a.jsx)(C.a,{className:"white"})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("h3",{className:"mon heading",children:"VCET"})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,direction:"row",alignItems:"center",children:Object(a.jsx)(S.a,{endIcon:Object(a.jsx)(w.a,{className:"white"}),onClick:function(){s()},children:Object(a.jsx)("h5",{className:"mon white",children:"Logout"})})})})]})}),Object(a.jsx)(B,{SetOpen:r,handleClose:function(){i(!1)},title:"Confirm",content:"Are you sure you want to logout?",handleConfirm:function(){E.a.remove("token"),e(!1)},confirmButtonColorSecondary:!0}),Object(a.jsx)(U.a,{open:l,onClose:function(){return d(!1)},classes:{paper:O.drawerPaper},children:Object(a.jsx)(re,{})})]})},oe=n(47),je=function(){return Object(a.jsx)(h.a,{position:"relative",style:{top:"auto",bottom:0},color:"primary",children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",style:{padding:"10px 5px"},children:[Object(a.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(oe.a,{variant:"caption",children:"Copyright \xa9 2020"})}),Object(a.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(oe.a,{variant:"caption",children:"Developed By Udaya with \u2764\ufe0f"})})]})})},le=function(){return Object(a.jsx)(O.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"column",children:[Object(a.jsx)(se,{}),Object(a.jsx)("div",{style:{height:"100vh"},children:"dsfhkj"}),Object(a.jsx)(je,{})]})})},de=n(64),be=n.n(de),ue=n(256),Oe=n(251),xe=n(254),he=n(111),pe=n(103),me=n.n(pe),fe=n(252),ve=(n(155),Object(ie.a)((function(e){return{root:{height:"100vh",alignItems:"center",display:"flex",justifyContent:"center"},paper:{margin:e.spacing(5,4),display:"flex",flexDirection:"column",alignItems:"center",height:"auto",width:"100%",justify:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),ge=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),s=Object(b.a)(i,2),o=s[0],O=s[1],x=Object(c.useState)(!1),h=Object(b.a)(x,2),p=h[0],m=h[1],y=Object(c.useState)(!0),C=Object(b.a)(y,2),k=C[0],w=C[1],N=ve(),I=Object(c.useContext)(f),P=Object(c.useContext)(v),T=Object(c.useContext)(g),D=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),""===o||""===n){e.next=15;break}return e.prev=2,P(!0),e.next=6,be.a.post("https://grievance-app-backend.herokuapp.com/admin/login",{data:{userName:n,password:o}});case 6:t=e.sent,P(!1),200===t.status&&(T.setID(Object(l.a)(Object(l.a)({},T),{},{id:t.data.id})),1/48,E.a.set("admin-token",t.data.token,{expires:.020833333333333332}),I(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.t0.response&&(console.log(e.t0.response),401===e.t0.response.status&&(w(!1),setTimeout((function(){return w(!0)}),5e3),P(!1)));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(u.a,{container:!0,component:"main",className:N.root,children:[Object(a.jsx)(Oe.a,{}),Object(a.jsx)(u.a,{item:!0,xs:12,sm:8,md:5,className:"login-box",component:he.a,children:Object(a.jsxs)("div",{className:N.paper,children:[Object(a.jsx)(ue.a,{className:N.avatar,children:Object(a.jsx)(me.a,{})}),Object(a.jsx)(oe.a,{component:"h1",variant:"h6",children:"Sign in"}),Object(a.jsxs)(fe.a,{className:N.form,validate:"true",children:[Object(a.jsx)(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Roll Number",name:"email",autoComplete:"email",onInput:function(e){""===o&&""===n&&m(!1),r(e.target.value)},value:n,error:p&&!n,helperText:p&&!n&&"User name field is required",autoFocus:!0}),Object(a.jsx)(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onInput:function(e){""===o&&""===n&&m(!1),O(e.target.value)},value:o,error:p&&!o,helperText:p&&!o&&"Password field is required",autoComplete:"current-password"}),!k&&Object(a.jsx)(oe.a,{color:"error",variant:"caption",align:"left",children:"UserName or Password is Invalid"}),Object(a.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:N.submit,onClick:D,children:"Sign In"})]})]})})]})},ye=n(107),Ce=n(253),ke=n(104);var we=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(b.a)(i,2),o=s[0],u=s[1],O=Object(c.useState)({}),x=Object(b.a)(O,2),h=x[0],p=x[1];Object(c.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.a.get("admin-token")){e.next=9;break}return u(!0),e.next=4,be.a.get("https://grievance-app-backend.herokuapp.com/auth",{headers:{token:E.a.get("admin-token")}});case 4:t=e.sent,u(!1),200===t.status?(p(Object(l.a)(Object(l.a)({},y),{},{id:t.data.id})),r(!0)):r(!1),e.next=10;break;case 9:r(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]);var m=Object(ye.a)({palette:{type:"light",primary:{main:"#3a42bb"}}}),y={id:h.id,setID:p};return Object(a.jsx)(Ce.a,{theme:m,children:Object(a.jsx)(f.Provider,{value:r,children:Object(a.jsx)(v.Provider,{value:u,children:Object(a.jsx)(g.Provider,{value:y,children:Object(a.jsxs)("div",{className:"App",children:[n?Object(a.jsx)(le,{}):Object(a.jsx)(ge,{}),o&&Object(a.jsx)(ke.BoxLoading,{color:"#3a42bb",size:"large"})]})})})})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(we,{})}),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.2f09937d.chunk.js.map