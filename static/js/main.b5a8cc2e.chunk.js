(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{137:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},158:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(12),s=n.n(i),o=(n(137),n(36)),j=n.n(o),l=n(51),d=n(48),b=n(16),u=(n(139),n(258)),O=(n(140),n(49)),x=n.n(O),p=n(35),h=n.n(p),m=n(37),f=n(14),v=n(30),g=n(256),y=n(257),C=n(259),k=r.a.createContext({}),w=r.a.createContext({}),S=r.a.createContext({}),N=r.a.createContext([]),P=(n(158),n(108)),A=n.n(P),T=n(109),I=n.n(T),G=n(249),D=n(241),F=n(248),B=n(246),E=n(247),U=n(245),W=function(e){var t=e.SetOpen,n=e.handleClose,c=e.title,r=e.content,i=e.handleConfirm,s=e.confirmButtonColorSecondary;return Object(a.jsx)("div",{children:Object(a.jsxs)(D.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(U.a,{id:"alert-dialog-title",children:c}),""!==r&&Object(a.jsx)(B.a,{children:Object(a.jsx)(E.a,{id:"alert-dialog-description",children:r})}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(G.a,{onClick:n,variant:"text",color:"primary",style:{color:"#333333"},children:"Cancel"}),Object(a.jsx)(G.a,{onClick:i,variant:"contained",color:s?"secondary":"primary",autoFocus:!0,children:"Confirm"})]})]})})},q=n(265),J=n(250),M=n(251),L=n(252),_=n(253),Z=n(99),z=n.n(Z),R=n(107),V=n.n(R),Y=n(101),H=n.n(Y),K=n(100),Q=n.n(K),X=n(102),$=n.n(X),ee=n(103),te=n.n(ee),ne=n(254),ae=n(104),ce=n.n(ae),re=n(105),ie=n.n(re),se=n(106),oe=n.n(se),je=function(e){var t=e.setOpenDrawer,n=Object(c.useState)(null),r=Object(b.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(!0),j=Object(b.a)(o,2),l=j[0],d=j[1],u=function(e){s(e),t(!1)};return Object(a.jsx)("div",{style:{width:"240px"},children:Object(a.jsxs)(J.a,{children:[Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/",children:Object(a.jsxs)(M.a,{button:!0,selected:0===i,onClick:function(){return u(0)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(_.a,{primary:"Complaints"})]})}),Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/dashboard",children:Object(a.jsxs)(M.a,{button:!0,selected:1===i,onClick:function(){return u(1)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(Q.a,{})}),Object(a.jsx)(_.a,{primary:"Dashboard"})]})}),Object(a.jsxs)(M.a,{button:!0,selected:2===i,onClick:function(){d(!l)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(_.a,{primary:"Student"}),l?Object(a.jsx)($.a,{}):Object(a.jsx)(te.a,{})]}),Object(a.jsx)(ne.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(J.a,{component:"div",disablePadding:!0,style:{paddingLeft:"32px"},children:[Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/create-student",children:Object(a.jsxs)(M.a,{button:!0,selected:3===i,onClick:function(){return u(3)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(ce.a,{})}),Object(a.jsx)(_.a,{primary:"Create"})]})}),Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/update-student",children:Object(a.jsxs)(M.a,{button:!0,selected:4===i,onClick:function(){return u(4)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(ie.a,{})}),Object(a.jsx)(_.a,{primary:"Update"})]})}),Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/delete-student",children:Object(a.jsxs)(M.a,{button:!0,selected:5===i,onClick:function(){return u(5)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(oe.a,{})}),Object(a.jsx)(_.a,{primary:"Delete"})]})})]})}),Object(a.jsx)(m.b,{to:"/Grievance-system-Admin/profile",children:Object(a.jsxs)(M.a,{button:!0,selected:6===i,onClick:function(){return u(6)},children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(V.a,{})}),Object(a.jsx)(_.a,{primary:"Profile"})]})})]})})},le=n(255),de=function(){var e=Object(c.useContext)(k),t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],s=function(){i(!0)},o=Object(c.useState)(!1),j=Object(b.a)(o,2),l=j[0],d=j[1],O=Object(le.a)((function(e){var t;return{drawerPaper:(t={marginTop:"56px"},Object(v.a)(t,e.breakpoints.up("md"),{marginTop:"64px"}),Object(v.a)(t,"height","100%"),t)}}))();return Object(a.jsxs)(g.a,{position:"fixed",color:"primary",children:[Object(a.jsx)(y.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(C.a,{onClick:function(){return d(!0)},children:Object(a.jsx)(A.a,{className:"white"})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("h3",{className:"mon heading",children:"VCET"})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,direction:"row",alignItems:"center",children:Object(a.jsx)(G.a,{endIcon:Object(a.jsx)(I.a,{className:"white"}),onClick:function(){s()},children:Object(a.jsx)("h5",{className:"mon white",children:"Logout"})})})})]})}),Object(a.jsx)(W,{SetOpen:r,handleClose:function(){i(!1)},title:"Confirm",content:"Are you sure you want to logout?",handleConfirm:function(){h.a.remove("token"),e(!1)},confirmButtonColorSecondary:!0}),Object(a.jsx)(q.a,{open:l,onClose:function(){return d(!1)},classes:{paper:O.drawerPaper},children:Object(a.jsx)(je,{setOpenDrawer:d})})]})},be=n(54),ue=function(){return Object(a.jsx)(g.a,{position:"relative",style:{top:"auto",bottom:0},color:"primary",children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",style:{padding:"10px 5px"},children:[Object(a.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(be.a,{variant:"caption",children:"Copyright \xa9 2021"})}),Object(a.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(be.a,{variant:"caption",children:"Developed By Udaya with \u2764\ufe0f"})})]})})},Oe=(n(165),n(70)),xe=n.n(Oe),pe=function(e){var t=e.setOpenFilter;return Object(a.jsx)(g.a,{position:"sticky",className:"feed-bar",children:Object(a.jsxs)(y.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)(be.a,{variant:"h6",noWrap:!0,children:"Complaints"}),Object(a.jsx)(C.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return t(!0)},className:"filter-button",children:Object(a.jsx)(xe.a,{})})]})})},he=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(J.a,{children:Object(a.jsxs)(M.a,{button:!0,children:[Object(a.jsx)(L.a,{children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(_.a,{primary:"Filters"})]})})})},me=function(e){var t=e.openFilter,n=e.setOpenFilter,c=Object(le.a)((function(e){var t;return{drawerPaper:(t={marginTop:"64px",marginBottom:"64px"},Object(v.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(v.a)(t,"display","none"),Object(v.a)(t,"height","auto"),Object(v.a)(t,"width","240px"),t),drawerPaper1:Object(v.a)({marginTop:"64px",height:"100%",width:"240px"},e.breakpoints.down("sm"),{marginTop:"56px"})}}))();return Object(a.jsxs)("div",{children:[Object(a.jsx)(q.a,{open:!0,anchor:"right",variant:"permanent",classes:{paper:c.drawerPaper},children:Object(a.jsx)(he,{})}),Object(a.jsx)(q.a,{variant:"temporary",anchor:"right",open:t,onClose:function(){return n(!1)},classes:{paper:c.drawerPaper1},ModalProps:{keepMounted:!0},children:Object(a.jsx)(he,{})})]})},fe=(n(166),function(e){var t=e.data;return console.log(t),Object(a.jsx)("div",{children:JSON.stringify(t).split(",").join(" ")})}),ve=function(e){var t=e.allComplaints;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:JSON.stringify(t).split(",").join(" ")}),Object(a.jsx)("p",{children:[{category:"college",complaint:"second official complaint from web site ",createdAt:"2020-12-19T14:30:08.972Z",departmentName:"CSE",gender:"male",jointYear:2019,response:"",status:"unseen",studentId:"5fd6f2bac6d1fa27dc5cea11",timeStamp:"Sat Dec 19 2020 20:00:06 GMT+0530 (India Standard Time)",title:"second complain",updatedAt:"2020-12-19T14:30:08.972Z",__v:0,_id:"5fde0e70d7b2140017784c5c"}].map((function(e){return Object(a.jsx)(fe,{data:e})}))})]})},ge=(n(167),n(260)),ye=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(N);return console.log(i),Object(a.jsxs)(u.a,{container:!0,className:"complaint-container",children:[Object(a.jsx)(u.a,{item:!0,className:"feed-container",children:Object(a.jsxs)(u.a,{container:!0,direction:"column",children:[Object(a.jsx)(pe,{setOpenFilter:r}),Object(a.jsx)(ge.a,{maxWidth:"md",children:Object(a.jsx)(ve,{allComplaints:i})})]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(me,{setOpenFilter:r,openFilter:n})})]})},Ce=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Dashboard"})})},ke=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Profile"})})},we=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Create"})})},Se=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Update"})})},Ne=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Delete"})})},Pe=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){return i(),function(){}}),[]);var i=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://grievance-app-backend.herokuapp.com/admin/complaint",{headers:{token:h.a.get("admin-token")}});case 2:200===(t=e.sent).status&&(r(t.data.data.allComplaints),console.log(t.data.data.allComplaints));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(N.Provider,{value:n,children:Object(a.jsx)(m.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"column",children:[Object(a.jsx)(de,{}),Object(a.jsx)("div",{style:{marginTop:"64px"},className:"header-space"}),Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{exact:!0,path:"/Grievance-system-Admin/create-student",children:Object(a.jsx)(we,{})}),Object(a.jsx)(f.a,{exact:!0,path:"/Grievance-system-Admin/update-student",children:Object(a.jsx)(Se,{})}),Object(a.jsx)(f.a,{exact:!0,path:"/Grievance-system-Admin/delete-student",children:Object(a.jsx)(Ne,{})}),Object(a.jsx)(f.a,{exact:!0,path:"/Grievance-system-Admin/profile",children:Object(a.jsx)(ke,{})}),Object(a.jsx)(f.a,{exact:!0,path:"/Grievance-system-Admin/dashboard",children:Object(a.jsx)(Ce,{})}),Object(a.jsx)(f.a,{path:"/Grievance-system-Admin/",children:Object(a.jsx)(ye,{})})]}),Object(a.jsx)(ue,{})]})})})},Ae=n(266),Te=n(261),Ie=n(264),Ge=n(117),De=n(110),Fe=n.n(De),Be=n(262),Ee=(n(168),Object(le.a)((function(e){return{root:{height:"100vh",alignItems:"center",display:"flex",justifyContent:"center"},paper:{margin:e.spacing(5,4),display:"flex",flexDirection:"column",alignItems:"center",height:"auto",width:"100%",justify:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),Ue=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),s=Object(b.a)(i,2),o=s[0],O=s[1],p=Object(c.useState)(!1),m=Object(b.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)(!0),y=Object(b.a)(g,2),C=y[0],N=y[1],P=Ee(),A=Object(c.useContext)(k),T=Object(c.useContext)(w),I=Object(c.useContext)(S),D=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),""===o||""===n){e.next=15;break}return e.prev=2,T(!0),e.next=6,x.a.post("https://grievance-app-backend.herokuapp.com/admin/login",{data:{userName:n,password:o}});case 6:t=e.sent,T(!1),200===t.status&&(I.setID(Object(l.a)(Object(l.a)({},I),{},{id:t.data.id})),1/48,h.a.set("admin-token",t.data.token,{expires:.020833333333333332}),A(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.t0.response&&(console.log(e.t0.response),401===e.t0.response.status&&(N(!1),setTimeout((function(){return N(!0)}),5e3),T(!1)));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(u.a,{container:!0,component:"main",className:P.root,children:[Object(a.jsx)(Te.a,{}),Object(a.jsx)(u.a,{item:!0,xs:12,sm:8,md:5,className:"login-box",component:Ge.a,children:Object(a.jsxs)("div",{className:P.paper,children:[Object(a.jsx)(Ae.a,{className:P.avatar,children:Object(a.jsx)(Fe.a,{})}),Object(a.jsx)(be.a,{component:"h1",variant:"h6",children:"Sign in"}),Object(a.jsxs)(Be.a,{className:P.form,validate:"true",children:[Object(a.jsx)(Ie.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Roll Number",name:"email",autoComplete:"email",onInput:function(e){""===o&&""===n&&v(!1),r(e.target.value)},value:n,error:f&&!n,helperText:f&&!n&&"User name field is required",autoFocus:!0}),Object(a.jsx)(Ie.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onInput:function(e){""===o&&""===n&&v(!1),O(e.target.value)},value:o,error:f&&!o,helperText:f&&!o&&"Password field is required",autoComplete:"current-password"}),!C&&Object(a.jsx)(be.a,{color:"error",variant:"caption",align:"left",children:"UserName or Password is Invalid"}),Object(a.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:P.submit,onClick:D,children:"Sign In"})]})]})})]})},We=n(114),qe=n(263),Je=n(111);var Me=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(b.a)(i,2),o=s[0],u=s[1],O=Object(c.useState)({}),p=Object(b.a)(O,2),m=p[0],f=p[1];Object(c.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.a.get("admin-token")){e.next=9;break}return u(!0),e.next=4,x.a.get("https://grievance-app-backend.herokuapp.com/auth",{headers:{token:h.a.get("admin-token")}});case 4:t=e.sent,u(!1),200===t.status?(f(Object(l.a)(Object(l.a)({},g),{},{id:t.data.id})),r(!0)):r(!1),e.next=10;break;case 9:r(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]);var v=Object(We.a)({palette:{type:"light",primary:{main:"#3a42bb"}}}),g={id:m.id,setID:f};return Object(a.jsx)(qe.a,{theme:v,children:Object(a.jsx)(k.Provider,{value:r,children:Object(a.jsx)(w.Provider,{value:u,children:Object(a.jsx)(S.Provider,{value:g,children:Object(a.jsxs)("div",{className:"App",children:[n?Object(a.jsx)(Pe,{}):Object(a.jsx)(Ue,{}),o&&Object(a.jsx)(Je.BoxLoading,{color:"#3a42bb",size:"large"})]})})})})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Me,{})}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.b5a8cc2e.chunk.js.map