(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{131:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},158:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),i=n(12),s=n.n(i),j=(n(131),n(47)),o=n.n(j),d=n(48),l=n(61),b=n(21),u=(n(133),n(252)),x=n(34),O=n(13),h=n(52),m=n(250),p=n(251),f=n(253),v=r.a.createContext({}),y=r.a.createContext({}),g=r.a.createContext({}),C=(n(134),n(105)),k=n.n(C),w=n(106),S=n.n(w),A=n(243),G=n(235),N=n(242),I=n(240),P=n(241),D=n(239),T=function(e){var t=e.SetOpen,n=e.handleClose,a=e.title,r=e.content,i=e.handleConfirm,s=e.confirmButtonColorSecondary;return Object(c.jsx)("div",{children:Object(c.jsxs)(G.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(c.jsx)(D.a,{id:"alert-dialog-title",children:a}),""!==r&&Object(c.jsx)(I.a,{children:Object(c.jsx)(P.a,{id:"alert-dialog-description",children:r})}),Object(c.jsxs)(N.a,{children:[Object(c.jsx)(A.a,{onClick:n,variant:"text",color:"primary",style:{color:"#333333"},children:"Cancel"}),Object(c.jsx)(A.a,{onClick:i,variant:"contained",color:s?"secondary":"primary",autoFocus:!0,children:"Confirm"})]})]})})},B=n(41),U=n.n(B),q=n(258),E=n(244),L=n(245),W=n(246),F=n(247),J=n(96),z=n.n(J),M=n(104),R=n.n(M),V=n(98),H=n.n(V),K=n(97),Q=n.n(K),X=n(99),Y=n.n(X),Z=n(100),$=n.n(Z),_=n(248),ee=n(101),te=n.n(ee),ne=n(102),ce=n.n(ne),ae=n(103),re=n.n(ae),ie=function(){var e=Object(a.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!0),s=Object(b.a)(i,2),j=s[0],o=s[1];return Object(c.jsx)("div",{style:{width:"250px"},children:Object(c.jsxs)(E.a,{children:[Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/complaints",children:Object(c.jsxs)(L.a,{button:!0,selected:0===n,onClick:function(){return r(0)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(z.a,{})}),Object(c.jsx)(F.a,{primary:"Complaints"})]})}),Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/dashboard",children:Object(c.jsxs)(L.a,{button:!0,selected:1===n,onClick:function(){return r(1)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(Q.a,{})}),Object(c.jsx)(F.a,{primary:"Dashboard"})]})}),Object(c.jsxs)(L.a,{button:!0,selected:2===n,onClick:function(){r(2),o(!j)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(H.a,{})}),Object(c.jsx)(F.a,{primary:"Student"}),j?Object(c.jsx)(Y.a,{}):Object(c.jsx)($.a,{})]}),Object(c.jsx)(_.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(c.jsxs)(E.a,{component:"div",disablePadding:!0,style:{paddingLeft:"32px"},children:[Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/create-student",children:Object(c.jsxs)(L.a,{button:!0,selected:3===n,onClick:function(){return r(3)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(te.a,{})}),Object(c.jsx)(F.a,{primary:"Create"})]})}),Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/update-student",children:Object(c.jsxs)(L.a,{button:!0,selected:4===n,onClick:function(){return r(4)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(ce.a,{})}),Object(c.jsx)(F.a,{primary:"Update"})]})}),Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/delete-student",children:Object(c.jsxs)(L.a,{button:!0,selected:5===n,onClick:function(){return r(5)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(re.a,{})}),Object(c.jsx)(F.a,{primary:"Delete"})]})})]})}),Object(c.jsx)(x.b,{to:"/Grievance-system-Admin/profile",children:Object(c.jsxs)(L.a,{button:!0,selected:6===n,onClick:function(){return r(6)},children:[Object(c.jsx)(W.a,{children:Object(c.jsx)(R.a,{})}),Object(c.jsx)(F.a,{primary:"Profile"})]})})]})})},se=n(249),je=function(){var e=Object(a.useContext)(v),t=Object(a.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],s=function(){i(!0)},j=Object(a.useState)(!1),o=Object(b.a)(j,2),d=o[0],l=o[1],x=Object(se.a)((function(e){var t;return{drawerPaper:(t={marginTop:"56px"},Object(h.a)(t,e.breakpoints.up("md"),{marginTop:"64px"}),Object(h.a)(t,"height","100%"),t)}}))();return Object(c.jsxs)(m.a,{position:"fixed",color:"primary",children:[Object(c.jsx)(p.a,{children:Object(c.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(u.a,{item:!0,children:Object(c.jsx)(f.a,{onClick:function(){return l(!0)},children:Object(c.jsx)(k.a,{className:"white"})})}),Object(c.jsx)(u.a,{item:!0,children:Object(c.jsx)("h3",{className:"mon heading",children:"VCET"})}),Object(c.jsx)(u.a,{item:!0,children:Object(c.jsx)(u.a,{container:!0,direction:"row",alignItems:"center",children:Object(c.jsx)(A.a,{endIcon:Object(c.jsx)(S.a,{className:"white"}),onClick:function(){s()},children:Object(c.jsx)("h5",{className:"mon white",children:"Logout"})})})})]})}),Object(c.jsx)(T,{SetOpen:r,handleClose:function(){i(!1)},title:"Confirm",content:"Are you sure you want to logout?",handleConfirm:function(){U.a.remove("token"),e(!1)},confirmButtonColorSecondary:!0}),Object(c.jsx)(q.a,{open:d,onClose:function(){return l(!1)},classes:{paper:x.drawerPaper},children:Object(c.jsx)(ie,{})})]})},oe=n(51),de=function(){return Object(c.jsx)(m.a,{position:"relative",style:{top:"auto",bottom:0},color:"primary",children:Object(c.jsxs)(u.a,{container:!0,justify:"space-between",style:{padding:"10px 5px"},children:[Object(c.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(c.jsx)(oe.a,{variant:"caption",children:"Copyright \xa9 2020"})}),Object(c.jsx)(u.a,{item:!0,sm:6,xs:12,children:Object(c.jsx)(oe.a,{variant:"caption",children:"Developed By Udaya with \u2764\ufe0f"})})]})})},le=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Complaints"})})},be=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Dashboard"})})},ue=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Profile"})})},xe=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Create"})})},Oe=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Update"})})},he=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Delete"})})},me=function(){return Object(c.jsx)(x.a,{children:Object(c.jsxs)(u.a,{container:!0,direction:"column",children:[Object(c.jsx)(je,{}),Object(c.jsx)("div",{style:{height:"50vh"}}),Object(c.jsxs)(O.d,{children:[Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/create-student",children:Object(c.jsx)(xe,{})}),Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/update-student",children:Object(c.jsx)(Oe,{})}),Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/delete-student",children:Object(c.jsx)(he,{})}),Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/profile",children:Object(c.jsx)(ue,{})}),Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/dashboard",children:Object(c.jsx)(be,{})}),Object(c.jsx)(O.a,{exact:!0,from:"/Grievance-system-Admin/",to:"/Grievance-system-Admin/complaints"}),Object(c.jsx)(O.b,{exact:!0,path:"/Grievance-system-Admin/complaints",children:Object(c.jsx)(le,{})})]}),Object(c.jsx)("div",{style:{height:"50vh"}}),Object(c.jsx)(de,{})]})})},pe=n(68),fe=n.n(pe),ve=n(259),ye=n(254),ge=n(257),Ce=n(114),ke=n(107),we=n.n(ke),Se=n(255),Ae=(n(158),Object(se.a)((function(e){return{root:{height:"100vh",alignItems:"center",display:"flex",justifyContent:"center"},paper:{margin:e.spacing(5,4),display:"flex",flexDirection:"column",alignItems:"center",height:"auto",width:"100%",justify:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),Ge=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),s=Object(b.a)(i,2),j=s[0],x=s[1],O=Object(a.useState)(!1),h=Object(b.a)(O,2),m=h[0],p=h[1],f=Object(a.useState)(!0),C=Object(b.a)(f,2),k=C[0],w=C[1],S=Ae(),G=Object(a.useContext)(v),N=Object(a.useContext)(y),I=Object(a.useContext)(g),P=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),""===j||""===n){e.next=15;break}return e.prev=2,N(!0),e.next=6,fe.a.post("https://grievance-app-backend.herokuapp.com/admin/login",{data:{userName:n,password:j}});case 6:t=e.sent,N(!1),200===t.status&&(I.setID(Object(d.a)(Object(d.a)({},I),{},{id:t.data.id})),1/48,U.a.set("admin-token",t.data.token,{expires:.020833333333333332}),G(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.t0.response&&(console.log(e.t0.response),401===e.t0.response.status&&(w(!1),setTimeout((function(){return w(!0)}),5e3),N(!1)));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(u.a,{container:!0,component:"main",className:S.root,children:[Object(c.jsx)(ye.a,{}),Object(c.jsx)(u.a,{item:!0,xs:12,sm:8,md:5,className:"login-box",component:Ce.a,children:Object(c.jsxs)("div",{className:S.paper,children:[Object(c.jsx)(ve.a,{className:S.avatar,children:Object(c.jsx)(we.a,{})}),Object(c.jsx)(oe.a,{component:"h1",variant:"h6",children:"Sign in"}),Object(c.jsxs)(Se.a,{className:S.form,validate:"true",children:[Object(c.jsx)(ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Roll Number",name:"email",autoComplete:"email",onInput:function(e){""===j&&""===n&&p(!1),r(e.target.value)},value:n,error:m&&!n,helperText:m&&!n&&"User name field is required",autoFocus:!0}),Object(c.jsx)(ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onInput:function(e){""===j&&""===n&&p(!1),x(e.target.value)},value:j,error:m&&!j,helperText:m&&!j&&"Password field is required",autoComplete:"current-password"}),!k&&Object(c.jsx)(oe.a,{color:"error",variant:"caption",align:"left",children:"UserName or Password is Invalid"}),Object(c.jsx)(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:S.submit,onClick:P,children:"Sign In"})]})]})})]})},Ne=n(111),Ie=n(256),Pe=n(108);var De=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(b.a)(i,2),j=s[0],u=s[1],x=Object(a.useState)({}),O=Object(b.a)(x,2),h=O[0],m=O[1];Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.a.get("admin-token")){e.next=9;break}return u(!0),e.next=4,fe.a.get("https://grievance-app-backend.herokuapp.com/auth",{headers:{token:U.a.get("admin-token")}});case 4:t=e.sent,u(!1),200===t.status?(m(Object(d.a)(Object(d.a)({},f),{},{id:t.data.id})),r(!0)):r(!1),e.next=10;break;case 9:r(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]);var p=Object(Ne.a)({palette:{type:"light",primary:{main:"#3a42bb"}}}),f={id:h.id,setID:m};return Object(c.jsx)(Ie.a,{theme:p,children:Object(c.jsx)(v.Provider,{value:r,children:Object(c.jsx)(y.Provider,{value:u,children:Object(c.jsx)(g.Provider,{value:f,children:Object(c.jsxs)("div",{className:"App",children:[n?Object(c.jsx)(me,{}):Object(c.jsx)(Ge,{}),j&&Object(c.jsx)(Pe.BoxLoading,{color:"#3a42bb",size:"large"})]})})})})})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(De,{})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.e2843687.chunk.js.map